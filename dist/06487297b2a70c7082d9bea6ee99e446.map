{"version":3,"sources":["..\\js\\jquery-youtube.js"],"names":["console","log","debug","skiped","window","location","host","tag","document","createElement","src","firstScriptTag","getElementsByTagName","parentNode","insertBefore","tv","playerDefaults","autoplay","autohide","modestbranding","rel","showinfo","controls","disablekb","enablejsapi","iv_load_policy","vid","randomVid","Math","floor","random","length","currVid","stopPlayAt","stopPlayTimer","onYouTubePlayerAPIReady","YT","Player","events","onPlayerReady","onPlayerStateChange","playerVars","loadVideoById","playVideo","fakeClick","fn","$a","$","bind","e","preventDefault","append","evt","el","get","createEvent","initMouseEvent","dispatchEvent","remove","event","time","rate","remainingTime","addClass","clearTimeout","data","PlayerState","PLAYING","getCurrentTime","getPlaybackRate","setTimeout","pauseVideo","vidRescale","w","width","h","height","setSize","css","on","click","stopVideo","slideUp"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAAA,QAAQC,GAAR,CAAY,YAAZ;AACA,IAAIC,QAAQ,KAAZ;AACA,IAAIC,SAAS,KAAb;AACA,IAAGC,OAAOC,QAAP,CAAgBC,IAAhB,KAAyB,gBAA5B,EAA6C;AACzC;AACH;;AAED,IAAIC,MAAMC,SAASC,aAAT,CAAuB,QAAvB,CAAV;AACAF,IAAIG,GAAJ,GAAU,oCAAV;AACA,IAAIC,iBAAiBH,SAASI,oBAAT,CAA8B,QAA9B,EAAwC,CAAxC,CAArB;AACAD,eAAeE,UAAf,CAA0BC,YAA1B,CAAuCP,GAAvC,EAA4CI,cAA5C;AACA,IAAII,EAAJ;AAAA,IACIC,iBAAiB,EAACC,UAAU,CAAX;AACbC,cAAU,CADG;AAEbC,oBAAgB,CAFH;AAGbC,SAAK,CAHQ;AAIbC,cAAU,CAJG;AAKbC,cAAU,CALG;AAMbC,eAAW,CANE;AAObC,iBAAa,CAPA;AAQbC,oBAAgB,CARH,EADrB;AAUA,IAAIC,MAAM,CACF,EAAC,WAAW,aAAZ,EAA2B,oBAAoB,OAA/C,EADE,CAAV;AAAA,IAGIC,YAAYC,KAAKC,KAAL,CAAWD,KAAKE,MAAL,KAAgBJ,IAAIK,MAA/B,CAHhB;AAAA,IAIIC,UAAUL,SAJd;AAKA,IAAIM,aAAa,EAAjB;AACA,IAAIC,aAAJ;;AAEAlC,QAAQC,GAAR,CAAY+B,OAAZ;;AAEA5B,OAAO+B,uBAAP,GAAiC,YAAU;AACvCnC,YAAQC,GAAR,CAAY,uBAAZ;AACA,QAAG,CAACE,MAAJ,EAAY;AACRY,aAAK,IAAIqB,GAAGC,MAAP,CAAc,IAAd,EAAoB;AACrBC,oBAAQ,EAAC,WAAWC,aAAZ,EAA2B,iBAAiBC,mBAA5C,EADa;AAErBC,wBAAYzB;AAFS,SAApB,CAAL;AAIH;AACJ,CARD;;AAUA,SAASuB,aAAT,GAAwB;AACpB,QAAG,CAACrC,KAAD,IAAU,CAACC,MAAd,EAAqB;AACjBY,WAAG2B,aAAH,CAAiBhB,IAAIM,OAAJ,CAAjB;;AAEAjB,WAAG4B,SAAH;AACH;AACJ;AACD,SAASC,SAAT,CAAmBC,EAAnB,EAAuB;AACnB,QAAIC,KAAKC,EAAE,iCAAF,CAAT;AACAD,OAAGE,IAAH,CAAQ,OAAR,EAAiB,UAASC,CAAT,EAAY;AACzBA,UAAEC,cAAF;AACAL;AACH,KAHD;;AAKAE,MAAE,MAAF,EAAUI,MAAV,CAAiBL,EAAjB;;AAEA,QAAIM,GAAJ;AAAA,QACIC,KAAKN,EAAE,YAAF,EAAgBO,GAAhB,CAAoB,CAApB,CADT;;AAGA,QAAI9C,SAAS+C,WAAb,EAA0B;AACtBH,cAAM5C,SAAS+C,WAAT,CAAqB,aAArB,CAAN;AACA,YAAIH,IAAII,cAAR,EAAwB;AACpBJ,gBAAII,cAAJ,CAAmB,OAAnB,EAA4B,IAA5B,EAAkC,IAAlC,EAAwCpD,MAAxC,EAAgD,CAAhD,EAAmD,CAAnD,EAAsD,CAAtD,EAAyD,CAAzD,EAA4D,CAA5D,EAA+D,KAA/D,EAAsE,KAAtE,EAA6E,KAA7E,EAAoF,KAApF,EAA2F,CAA3F,EAA8F,IAA9F;AACAiD,eAAGI,aAAH,CAAiBL,GAAjB;AACH;AACJ;;AAEDL,MAAEM,EAAF,EAAMK,MAAN;AACH;;AAED,SAASlB,mBAAT,CAA6BmB,KAA7B,EAAoC;AAChC,QAAIC,IAAJ,EAAUC,IAAV,EAAgBC,aAAhB;AACAf,MAAE,KAAF,EAASgB,QAAT,CAAkB,QAAlB;AACAC,iBAAa9B,aAAb;AACA,QAAIyB,MAAMM,IAAN,IAAc7B,GAAG8B,WAAH,CAAeC,OAAjC,EAA0C;AACtCP,eAAO7C,GAAGqD,cAAH,EAAP;AACA;AACA;AACA,YAAIR,OAAO,EAAP,GAAY3B,UAAhB,EAA4B;AACxB4B,mBAAO9C,GAAGsD,eAAH,EAAP;AACAP,4BAAgB,CAAC7B,aAAa2B,IAAd,IAAsBC,IAAtC;AACA3B,4BAAgBoC,WAAWC,UAAX,EAAuBT,gBAAgB,IAAvC,CAAhB;AACH;AACJ;AACJ;AACD,SAASS,UAAT,GAAsB;AAClBxD,OAAGwD,UAAH;AACH;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASC,UAAT,GAAqB;;AAEjB,QAAIC,IAAI1B,EAAE3C,MAAF,EAAUsE,KAAV,KAAkB,GAA1B;AAAA,QACIC,IAAI5B,EAAE3C,MAAF,EAAUwE,MAAV,KAAmB,GAD3B;;AAII7D,OAAG8D,OAAH,CAAWJ,CAAX,EAAcA,IAAE,EAAF,GAAK,CAAnB;AACA1B,MAAE,aAAF,EAAiB+B,GAAjB,CAAqB,EAAC,QAAQ,KAAT,EAArB;AAEP;;AAED/B,EAAE3C,MAAF,EAAU2E,EAAV,CAAa,aAAb,EAA4B,YAAU;AAClC,QAAGhE,EAAH,EAAOyD;AACV,CAFD;;AAIAzB,EAAE,YAAF,EAAgBiC,KAAhB,CAAsB,YAAY;AAC9B,QAAGjE,EAAH,EAAM;AACFA,WAAGkE,SAAH;AACAlE,WAAG4B,SAAH;AACH;AACJ,CALD;;AAOAI,EAAE,YAAF,EAAgBiC,KAAhB,CAAsB,YAAY;AAC9B7E,aAAS,IAAT;AACA4C,MAAE,uBAAF,EAA2BmC,OAA3B,CAAmC,GAAnC;AACA,QAAGnE,EAAH,EAAM;AACFwD;AACH;AACJ,CAND;;AAQA,IAAGrE,KAAH,EAAS;AACL6C,MAAE,YAAF,EAAgBiC,KAAhB;AACH","file":"06487297b2a70c7082d9bea6ee99e446.map","sourcesContent":["console.log('intro init');\r\nlet debug = false;\r\nlet skiped = false;\r\nif(window.location.host === 'localhost:1234'){\r\n    // debug = true;\r\n}\r\n\r\nvar tag = document.createElement('script');\r\ntag.src = 'https://www.youtube.com/player_api';\r\nvar firstScriptTag = document.getElementsByTagName('script')[0];\r\nfirstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\r\nvar tv,\r\n    playerDefaults = {autoplay: 1,\r\n        autohide: 1,\r\n        modestbranding: 1,\r\n        rel: 0,\r\n        showinfo: 0,\r\n        controls: 0,\r\n        disablekb: 1,\r\n        enablejsapi: 1,\r\n        iv_load_policy: 3};\r\nvar vid = [\r\n        {'videoId': 'AzR_QYX1eEM', 'suggestedQuality': 'hd720'}\r\n    ],\r\n    randomVid = Math.floor(Math.random() * vid.length),\r\n    currVid = randomVid;\r\nvar stopPlayAt = 27;\r\nvar stopPlayTimer;\r\n\r\nconsole.log(currVid);\r\n\r\nwindow.onYouTubePlayerAPIReady = function(){\r\n    console.log('YouTubePlayerAPIReady');\r\n    if(!skiped) {\r\n        tv = new YT.Player('tv', {\r\n            events: {'onReady': onPlayerReady, 'onStateChange': onPlayerStateChange},\r\n            playerVars: playerDefaults\r\n        });\r\n    }\r\n}\r\n\r\nfunction onPlayerReady(){\r\n    if(!debug && !skiped){\r\n        tv.loadVideoById(vid[currVid]);\r\n\r\n        tv.playVideo();\r\n    }\r\n}\r\nfunction fakeClick(fn) {\r\n    var $a = $('<a href=\"#\" id=\"fakeClick\"></a>');\r\n    $a.bind(\"click\", function(e) {\r\n        e.preventDefault();\r\n        fn();\r\n    });\r\n\r\n    $(\"body\").append($a);\r\n\r\n    var evt,\r\n        el = $(\"#fakeClick\").get(0);\r\n\r\n    if (document.createEvent) {\r\n        evt = document.createEvent(\"MouseEvents\");\r\n        if (evt.initMouseEvent) {\r\n            evt.initMouseEvent(\"click\", true, true, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\r\n            el.dispatchEvent(evt);\r\n        }\r\n    }\r\n\r\n    $(el).remove();\r\n}\r\n\r\nfunction onPlayerStateChange(event) {\r\n    var time, rate, remainingTime;\r\n    $('#tv').addClass('active');\r\n    clearTimeout(stopPlayTimer);\r\n    if (event.data == YT.PlayerState.PLAYING) {\r\n        time = tv.getCurrentTime();\r\n        // Add .4 of a second to the time in case it's close to the current time\r\n        // (The API kept returning ~9.7 when hitting play after stopping at 10s)\r\n        if (time + .4 < stopPlayAt) {\r\n            rate = tv.getPlaybackRate();\r\n            remainingTime = (stopPlayAt - time) / rate;\r\n            stopPlayTimer = setTimeout(pauseVideo, remainingTime * 1000);\r\n        }\r\n    }\r\n}\r\nfunction pauseVideo() {\r\n    tv.pauseVideo();\r\n}\r\n\r\n// function onPlayerStateChange(e) {\r\n//     if (e.data === 1){\r\n//         $('#tv').addClass('active');\r\n//         $('.hi em:nth-of-type(2)').html(currVid + 1);\r\n//     } else if (e.data === 2){\r\n//         $('#tv').removeClass('active');\r\n//         if(currVid === vid.length - 1){\r\n//             currVid = 0;\r\n//         } else {\r\n//             currVid++;\r\n//         }\r\n//         // tv.loadVideoById(vid[currVid]);\r\n//         // tv.seekTo(vid[currVid].startSeconds);\r\n//     }\r\n// }\r\n\r\nfunction vidRescale(){\r\n\r\n    var w = $(window).width()+200,\r\n        h = $(window).height()+200;\r\n\r\n\r\n        tv.setSize(w, w/16*9);\r\n        $('.tv .screen').css({'left': '0px'});\r\n\r\n}\r\n\r\n$(window).on('load resize', function(){\r\n    if(tv) vidRescale();\r\n});\r\n\r\n$('#playIntro').click(function () {\r\n    if(tv){\r\n        tv.stopVideo()\r\n        tv.playVideo()\r\n    }\r\n});\r\n\r\n$('#skipIntro').click(function () {\r\n    skiped = true;\r\n    $('section.section-intro').slideUp(300);\r\n    if(tv){\r\n        pauseVideo();\r\n    }\r\n});\r\n\r\nif(debug){\r\n    $('#skipIntro').click();\r\n}"]}