{"version":3,"sources":["..\\js\\jquery-youtube.js"],"names":["console","log","debug","skiped","window","location","host","tag","document","createElement","src","firstScriptTag","getElementsByTagName","parentNode","insertBefore","tv","playerDefaults","autoplay","autohide","modestbranding","rel","showinfo","controls","disablekb","enablejsapi","iv_load_policy","vid","randomVid","Math","floor","random","length","currVid","stopPlayAt","stopPlayTimer","$","html","onYouTubePlayerAPIReady","YT","Player","events","onPlayerReady","onPlayerStateChange","playerVars","loadVideoById","playVideo","event","time","rate","remainingTime","addClass","clearTimeout","data","PlayerState","PLAYING","getCurrentTime","getPlaybackRate","setTimeout","pauseVideo","vidRescale","w","width","h","height","setSize","css","on","click","stopVideo","slideUp"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAAA,QAAQC,GAAR,CAAY,YAAZ;AACA,IAAIC,QAAQ,KAAZ;AACA,IAAIC,SAAS,KAAb;AACA,IAAGC,OAAOC,QAAP,CAAgBC,IAAhB,KAAyB,gBAA5B,EAA6C;AACzC;AACH;;AAED,IAAIC,MAAMC,SAASC,aAAT,CAAuB,QAAvB,CAAV;AACAF,IAAIG,GAAJ,GAAU,oCAAV;AACA,IAAIC,iBAAiBH,SAASI,oBAAT,CAA8B,QAA9B,EAAwC,CAAxC,CAArB;AACAD,eAAeE,UAAf,CAA0BC,YAA1B,CAAuCP,GAAvC,EAA4CI,cAA5C;AACA,IAAII,EAAJ;AAAA,IACIC,iBAAiB,EAACC,UAAU,CAAX;AACbC,cAAU,CADG;AAEbC,oBAAgB,CAFH;AAGbC,SAAK,CAHQ;AAIbC,cAAU,CAJG;AAKbC,cAAU,CALG;AAMbC,eAAW,CANE;AAObC,iBAAa,CAPA;AAQbC,oBAAgB,CARH,EADrB;AAUA,IAAIC,MAAM,CACF,EAAC,WAAW,aAAZ,EAA2B,oBAAoB,OAA/C,EADE,CAAV;AAAA,IAGIC,YAAYC,KAAKC,KAAL,CAAWD,KAAKE,MAAL,KAAgBJ,IAAIK,MAA/B,CAHhB;AAAA,IAIIC,UAAUL,SAJd;AAKA,IAAIM,aAAa,EAAjB;AACA,IAAIC,aAAJ;AACAC,EAAE,qBAAF,EAAyBC,IAAzB,CAA8BV,IAAIK,MAAlC;;AAEA3B,OAAOiC,uBAAP,GAAiC,YAAU;AACvC,QAAG,CAAClC,MAAJ,EAAY;AACRY,aAAK,IAAIuB,GAAGC,MAAP,CAAc,IAAd,EAAoB;AACrBC,oBAAQ,EAAC,WAAWC,aAAZ,EAA2B,iBAAiBC,mBAA5C,EADa;AAErBC,wBAAY3B;AAFS,SAApB,CAAL;AAIH;AACJ,CAPD;;AASA,SAASyB,aAAT,GAAwB;AACpB,QAAG,CAACvC,KAAD,IAAU,CAACC,MAAd,EAAqB;AACjBY,WAAG6B,aAAH,CAAiBlB,IAAIM,OAAJ,CAAjB;AACAjB,WAAG8B,SAAH;AACH;AACJ;;AAED,SAASH,mBAAT,CAA6BI,KAA7B,EAAoC;AAChC,QAAIC,IAAJ,EAAUC,IAAV,EAAgBC,aAAhB;AACAd,MAAE,KAAF,EAASe,QAAT,CAAkB,QAAlB;AACAC,iBAAajB,aAAb;AACA,QAAIY,MAAMM,IAAN,IAAcd,GAAGe,WAAH,CAAeC,OAAjC,EAA0C;AACtCP,eAAOhC,GAAGwC,cAAH,EAAP;AACA;AACA;AACA,YAAIR,OAAO,EAAP,GAAYd,UAAhB,EAA4B;AACxBe,mBAAOjC,GAAGyC,eAAH,EAAP;AACAP,4BAAgB,CAAChB,aAAac,IAAd,IAAsBC,IAAtC;AACAd,4BAAgBuB,WAAWC,UAAX,EAAuBT,gBAAgB,IAAvC,CAAhB;AACH;AACJ;AACJ;AACD,SAASS,UAAT,GAAsB;AAClB3C,OAAG2C,UAAH;AACH;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASC,UAAT,GAAqB;;AAEjB,QAAIC,IAAIzB,EAAE/B,MAAF,EAAUyD,KAAV,KAAkB,GAA1B;AAAA,QACIC,IAAI3B,EAAE/B,MAAF,EAAU2D,MAAV,KAAmB,GAD3B;;AAIIhD,OAAGiD,OAAH,CAAWJ,CAAX,EAAcA,IAAE,EAAF,GAAK,CAAnB;AACAzB,MAAE,aAAF,EAAiB8B,GAAjB,CAAqB,EAAC,QAAQ,KAAT,EAArB;AAEP;;AAED9B,EAAE/B,MAAF,EAAU8D,EAAV,CAAa,aAAb,EAA4B,YAAU;AAClC,QAAGnD,EAAH,EAAO4C;AACV,CAFD;;AAIAxB,EAAE,YAAF,EAAgBgC,KAAhB,CAAsB,YAAY;AAC9B,QAAGpD,EAAH,EAAM;AACFA,WAAGqD,SAAH;AACArD,WAAG8B,SAAH;AACH;AACJ,CALD;;AAOAV,EAAE,YAAF,EAAgBgC,KAAhB,CAAsB,YAAY;AAC9BhE,aAAS,IAAT;AACAgC,MAAE,uBAAF,EAA2BkC,OAA3B,CAAmC,GAAnC;AACA,QAAGtD,EAAH,EAAM;AACF2C;AACH;AACJ,CAND;;AAQA,IAAGxD,KAAH,EAAS;AACLiC,MAAE,YAAF,EAAgBgC,KAAhB;AACH","file":"06487297b2a70c7082d9bea6ee99e446.map","sourcesContent":["console.log('intro init');\r\nlet debug = false;\r\nlet skiped = false;\r\nif(window.location.host === 'localhost:1234'){\r\n    // debug = true;\r\n}\r\n\r\nvar tag = document.createElement('script');\r\ntag.src = 'https://www.youtube.com/player_api';\r\nvar firstScriptTag = document.getElementsByTagName('script')[0];\r\nfirstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\r\nvar tv,\r\n    playerDefaults = {autoplay: 1,\r\n        autohide: 1,\r\n        modestbranding: 1,\r\n        rel: 0,\r\n        showinfo: 0,\r\n        controls: 0,\r\n        disablekb: 1,\r\n        enablejsapi: 1,\r\n        iv_load_policy: 3};\r\nvar vid = [\r\n        {'videoId': 'AzR_QYX1eEM', 'suggestedQuality': 'hd720'}\r\n    ],\r\n    randomVid = Math.floor(Math.random() * vid.length),\r\n    currVid = randomVid;\r\nvar stopPlayAt = 27;\r\nvar stopPlayTimer;\r\n$('.hi em:last-of-type').html(vid.length);\r\n\r\nwindow.onYouTubePlayerAPIReady = function(){\r\n    if(!skiped) {\r\n        tv = new YT.Player('tv', {\r\n            events: {'onReady': onPlayerReady, 'onStateChange': onPlayerStateChange},\r\n            playerVars: playerDefaults\r\n        });\r\n    }\r\n}\r\n\r\nfunction onPlayerReady(){\r\n    if(!debug && !skiped){\r\n        tv.loadVideoById(vid[currVid]);\r\n        tv.playVideo();\r\n    }\r\n}\r\n\r\nfunction onPlayerStateChange(event) {\r\n    var time, rate, remainingTime;\r\n    $('#tv').addClass('active');\r\n    clearTimeout(stopPlayTimer);\r\n    if (event.data == YT.PlayerState.PLAYING) {\r\n        time = tv.getCurrentTime();\r\n        // Add .4 of a second to the time in case it's close to the current time\r\n        // (The API kept returning ~9.7 when hitting play after stopping at 10s)\r\n        if (time + .4 < stopPlayAt) {\r\n            rate = tv.getPlaybackRate();\r\n            remainingTime = (stopPlayAt - time) / rate;\r\n            stopPlayTimer = setTimeout(pauseVideo, remainingTime * 1000);\r\n        }\r\n    }\r\n}\r\nfunction pauseVideo() {\r\n    tv.pauseVideo();\r\n}\r\n\r\n// function onPlayerStateChange(e) {\r\n//     if (e.data === 1){\r\n//         $('#tv').addClass('active');\r\n//         $('.hi em:nth-of-type(2)').html(currVid + 1);\r\n//     } else if (e.data === 2){\r\n//         $('#tv').removeClass('active');\r\n//         if(currVid === vid.length - 1){\r\n//             currVid = 0;\r\n//         } else {\r\n//             currVid++;\r\n//         }\r\n//         // tv.loadVideoById(vid[currVid]);\r\n//         // tv.seekTo(vid[currVid].startSeconds);\r\n//     }\r\n// }\r\n\r\nfunction vidRescale(){\r\n\r\n    var w = $(window).width()+200,\r\n        h = $(window).height()+200;\r\n\r\n\r\n        tv.setSize(w, w/16*9);\r\n        $('.tv .screen').css({'left': '0px'});\r\n\r\n}\r\n\r\n$(window).on('load resize', function(){\r\n    if(tv) vidRescale();\r\n});\r\n\r\n$('#playIntro').click(function () {\r\n    if(tv){\r\n        tv.stopVideo()\r\n        tv.playVideo()\r\n    }\r\n});\r\n\r\n$('#skipIntro').click(function () {\r\n    skiped = true;\r\n    $('section.section-intro').slideUp(300);\r\n    if(tv){\r\n        pauseVideo();\r\n    }\r\n});\r\n\r\nif(debug){\r\n    $('#skipIntro').click();\r\n}"]}