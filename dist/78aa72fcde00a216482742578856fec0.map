{"version":3,"sources":["..\\js\\pavr.js"],"names":["images","img11","img12","img13","img21","img22","img23","img31","img32","img33","img41","img42","img43","img51","img52","img53","img61","img62","img63","img71","img72","img73","img81","img82","img83","img91","img92","img93","img101","img102","img103","img111","img112","img113","img121","img122","img123","img131","img132","img133","img141","img142","img143","img151","img152","img153","Timer","callback","delay","timerId","start","remaining","pause","window","clearTimeout","Date","resume","setTimeout","$","fn","hideMessage","time","removeClass","slideUp","showMessage","addClass","slideDown","document","ready","callerId","socket","playTypingSound","timeStart","currentTime","play","stopTypingSound","ajax","url","success","res","result","undefined","pavrTimer","showPavel","console","error","jqXHR","textStatus","errorThrown","dataType","type","xhrFields","withCredentials","innerWidth","click","attr","pavrInput","focus","keypress","e","which","val","substr","reg","test","setCallerId","destroyTimeout","hidePavel","remove","successNumberCheck","checkCallerId","id","reason","startGame","animate","width","height","scoreValue","changeScore","value","newValue","text","prependTo","addImage","imgName","imgVariable","replace","img","class","src","alt","appendTo","handleError","isFinished","handleFinish","code","wordend","num","words","Math","abs","textValue","promoCodeTypeText","handleFinishBad","handleAnswer","answer","showRightAnswer","connectSocket","io","path","on","log","JSON","parse","data","points","action","right_answer","code_type","err"],"mappings":"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","file":"78aa72fcde00a216482742578856fec0.map","sourcesContent":["//pavr\r\n\r\nimport img11 from '../assets/mems/1-1.jpg'\r\nimport img12 from '../assets/mems/1-2.jpg'\r\nimport img13 from '../assets/mems/1-3.jpg'\r\nimport img21 from '../assets/mems/2-1.jpg'\r\nimport img22 from '../assets/mems/2-2.jpg'\r\nimport img23 from '../assets/mems/2-3.jpg'\r\nimport img31 from '../assets/mems/3-1.jpg'\r\nimport img32 from '../assets/mems/3-2.jpg'\r\nimport img33 from '../assets/mems/3-3.jpg'\r\nimport img41 from '../assets/mems/4-1.jpg'\r\nimport img42 from '../assets/mems/4-2.jpg'\r\nimport img43 from '../assets/mems/4-3.jpg'\r\nimport img51 from '../assets/mems/5-1.jpg'\r\nimport img52 from '../assets/mems/5-2.jpg'\r\nimport img53 from '../assets/mems/5-3.jpg'\r\nimport img61 from '../assets/mems/6-1.jpg'\r\nimport img62 from '../assets/mems/6-2.jpg'\r\nimport img63 from '../assets/mems/6-3.jpg'\r\nimport img71 from '../assets/mems/7-1.jpg'\r\nimport img72 from '../assets/mems/7-2.jpg'\r\nimport img73 from '../assets/mems/7-3.jpg'\r\nimport img81 from '../assets/mems/8-1.jpg'\r\nimport img82 from '../assets/mems/8-2.jpg'\r\nimport img83 from '../assets/mems/8-3.jpg'\r\nimport img91 from '../assets/mems/9-1.jpg'\r\nimport img92 from '../assets/mems/9-2.jpg'\r\nimport img93 from '../assets/mems/9-3.jpg'\r\nimport img101 from '../assets/mems/10-1.jpg'\r\nimport img102 from '../assets/mems/10-2.jpg'\r\nimport img103 from '../assets/mems/10-3.jpg'\r\nimport img111 from '../assets/mems/11-1.jpg'\r\nimport img112 from '../assets/mems/11-2.jpg'\r\nimport img113 from '../assets/mems/11-3.jpg'\r\nimport img121 from '../assets/mems/12-1.jpg'\r\nimport img122 from '../assets/mems/12-2.jpg'\r\nimport img123 from '../assets/mems/12-3.jpg'\r\nimport img131 from '../assets/mems/13-1.jpg'\r\nimport img132 from '../assets/mems/13-2.jpg'\r\nimport img133 from '../assets/mems/13-3.jpg'\r\nimport img141 from '../assets/mems/14-1.jpg'\r\nimport img142 from '../assets/mems/14-2.jpg'\r\nimport img143 from '../assets/mems/14-3.jpg'\r\nimport img151 from '../assets/mems/15-1.jpg'\r\nimport img152 from '../assets/mems/15-2.jpg'\r\nimport img153 from '../assets/mems/15-3.jpg'\r\n\r\nlet images = {\r\n  img11,\r\n  img12,\r\n  img13,\r\n  img21,\r\n  img22,\r\n  img23,\r\n  img31,\r\n  img32,\r\n  img33,\r\n  img41,\r\n  img42,\r\n  img43,\r\n  img51,\r\n  img52,\r\n  img53,\r\n  img61,\r\n  img62,\r\n  img63,\r\n  img71,\r\n  img72,\r\n  img73,\r\n  img81,\r\n  img82,\r\n  img83,\r\n  img91,\r\n  img92,\r\n  img93,\r\n  img101,\r\n  img102,\r\n  img103,\r\n  img111,\r\n  img112,\r\n  img113,\r\n  img121,\r\n  img122,\r\n  img123,\r\n  img131,\r\n  img132,\r\n  img133,\r\n  img141,\r\n  img142,\r\n  img143,\r\n  img151,\r\n  img152,\r\n  img153,\r\n}\r\n\r\n// console.log(images);\r\n//HELPERS\r\nfunction Timer(callback, delay) {\r\n  var timerId, start, remaining = delay;\r\n\r\n  this.pause = function () {\r\n    window.clearTimeout(timerId);\r\n    remaining -= new Date() - start;\r\n  };\r\n\r\n  this.resume = function () {\r\n    start = new Date();\r\n    window.clearTimeout(timerId);\r\n    timerId = window.setTimeout(callback, remaining);\r\n  };\r\n\r\n  this.resume();\r\n}\r\n\r\n$.fn.hideMessage = function (time = 300) {\r\n  $(this).removeClass('visible').slideUp(time);\r\n}\r\n\r\n$.fn.showMessage = function (time = 300) {\r\n  $(this).addClass('visible').slideDown(time);\r\n}\r\n\r\n$(document).ready(function () {\r\n  let callerId;\r\n  let socket;\r\n\r\n  const playTypingSound = function (timeStart = 4) {\r\n    setTimeout(() => {\r\n      // console.log('play');\r\n      $('#typingSound')[0].currentTime = timeStart;\r\n      $('#typingSound')[0].play();\r\n    }, 1000)\r\n\r\n  }\r\n\r\n  const stopTypingSound = function () {\r\n    // console.log('stop');\r\n    $('#typingSound')[0].pause();\r\n  }\r\n\r\n  $.ajax({\r\n    url: 'https://demos05.voximplant.com/intercomconf/checkPromo',\r\n    success: (res) => {\r\n      if (res.result !== undefined) {\r\n        // console.log('check callerId: ' + res.result);\r\n        if (res.result === true) {\r\n          window.pavrTimer = new Timer(showPavel, 5000)\r\n        } else {\r\n          console.error('There is no promo-codes')\r\n        }\r\n\r\n\r\n      }\r\n    },\r\n\r\n    error: (jqXHR, textStatus, errorThrown) => {\r\n      console.error(res.errorThrown)\r\n    },\r\n\r\n    dataType: 'json',\r\n    type: 'GET',\r\n    xhrFields: {\r\n      withCredentials: true\r\n    }\r\n  })\r\n\r\n  function showPavel() {\r\n    if (window.innerWidth > 768) {\r\n      $('.pavr_block').addClass('active')\r\n\r\n\r\n      setTimeout(() => {\r\n        $('.pavr_av_block').addClass('pavr_av_bouncing')\r\n      }, 1000);\r\n\r\n      setTimeout(() => {\r\n        $('.pavr_text_block_first').showMessage();\r\n        playTypingSound();\r\n      }, 1200);\r\n      setTimeout(() => {\r\n        $('.pavr_btn_block_first').showMessage()\r\n        stopTypingSound();\r\n      }, 6200);\r\n    }\r\n  }\r\n\r\n\r\n  $('.pavr_btn_ok').click(() => {\r\n    $('.pavr_text_block_err').removeClass('visible');\r\n    $('.pavr_text_block_ok').showMessage();\r\n    playTypingSound();\r\n    $('.pavr_btn_ok').attr('disabled', true);\r\n\r\n\r\n    //input show\r\n    setTimeout(() => {\r\n      $('.pavr-form').showMessage();\r\n      stopTypingSound();\r\n      pavrInput.focus();\r\n    }, 5500);\r\n\r\n    //this is my number button show\r\n    setTimeout(() => {\r\n      $('.pavr_btn_block_second').showMessage()\r\n    }, 5500);\r\n\r\n\r\n  })\r\n\r\n  const pavrInput = $('#myNumberInput');\r\n\r\n  pavrInput.keypress(function (e) {\r\n    if (e.which == 13) {\r\n      $('#myNumberButton').click();\r\n    }\r\n  });\r\n\r\n  pavrInput.focus(() => {\r\n    $('.pavr-form__warning').removeClass('visible');\r\n  });\r\n\r\n  $('#myNumberButton').click(() => {\r\n\r\n    callerId = pavrInput.val();\r\n\r\n    if (callerId[0] === '+') {\r\n      callerId = callerId.substr(1)\r\n    }\r\n\r\n    // console.log(callerId);\r\n    const reg = /^[0-9\\-\\+]{9,15}$/g;\r\n    if (reg.test(callerId)) {\r\n      if (callerId[0] === '8') {\r\n        callerId = '7' + callerId.substr(1);\r\n      }\r\n      setCallerId(callerId);\r\n\r\n    } else {\r\n      $('#regexCheckWarn').addClass('visible');\r\n    }\r\n\r\n\r\n  });\r\n\r\n  $('.pavr_btn_no').click(() => {\r\n\r\n    $('.pavr_btn_block_second').hideMessage();\r\n    $('.pavr_btn_block_first').hideMessage();\r\n    $('.pavr_text_block_ok').hideMessage();\r\n    $('.pavr_text_block_second').hideMessage();\r\n    $('.pavr_text_block_third').hideMessage();\r\n\r\n\r\n    $('.pavr_text_block_err').addClass('visible').slideDown();\r\n\r\n    playTypingSound();\r\n\r\n\r\n    setTimeout(() => {\r\n      stopTypingSound();\r\n    }, 2000);\r\n\r\n    const destroyTimeout = setTimeout(() => {\r\n      hidePavel();\r\n\r\n    }, 3000);\r\n\r\n  })\r\n\r\n\r\n  $('.pawr-finish-button').click(hidePavel)\r\n\r\n  //for test\r\n\r\n  // $('.pavr_text_block_third').click(startGame);\r\n\r\n\r\n  function hidePavel() {\r\n    $('.pavr_block').removeClass('active');\r\n    setTimeout(() => {\r\n      $('.pavr_block').remove();\r\n    }, 3000)\r\n  }\r\n\r\n  function successNumberCheck() {\r\n    playTypingSound(8.5);\r\n    pavrInput.attr('readonly', 'readonly');\r\n    $('#myNumberButton').attr('disabled', true);\r\n    $('.pavr_btn_block_second').removeClass('visible')\r\n      .slideUp();\r\n\r\n    $('.pavr_text_block_third').addClass('visible')\r\n      .slideDown();\r\n  }\r\n\r\n  function checkCallerId(id) {\r\n    $.ajax({\r\n      url: 'https://demos05.voximplant.com/intercomconf/checkCallerId?caller_id=' + id,\r\n      success: (res) => {\r\n        if (res.result !== undefined) {\r\n          // console.log('check callerId: ' + res.result);\r\n          if (res.result === true) {\r\n            successNumberCheck()\r\n          } else {\r\n            console.error(res);\r\n\r\n            // successNumberCheck();\r\n\r\n            switch (res.reason) {\r\n              case \"no_socket\":\r\n                $('#socketCheckWarn').addClass('visible');\r\n                break;\r\n              case \"already_played\":\r\n                $('#alreadyPlayedCheckWarn').addClass('visible');\r\n                break;\r\n            }\r\n\r\n          }\r\n\r\n\r\n        }\r\n      },\r\n\r\n      error: (jqXHR, textStatus, errorThrown) => {\r\n        console.error(res.errorThrown)\r\n      },\r\n\r\n      dataType: 'json',\r\n      type: 'GET',\r\n      xhrFields: {\r\n        withCredentials: true\r\n      }\r\n    })\r\n  }\r\n\r\n  function startGame() {\r\n    $('.pavr_btn_block_second').hideMessage();\r\n    $('.pavr_btn_block_first').hideMessage();\r\n\r\n    $('.pavr_text_block_ok').hideMessage();\r\n    $('.pavr_text_block_first').hideMessage();\r\n    $('.pavr_text_block_second').hideMessage();\r\n    $('.pavr_text_block_third').hideMessage();\r\n\r\n\r\n    $('.pavr_text_block_game').addClass('visible').slideDown().animate({\r\n      width: '460px',\r\n      height: '480px'\r\n    });\r\n\r\n    $('#pavrCurrentScore').slideDown();\r\n\r\n\r\n  }\r\n\r\n\r\n  let scoreValue = 0;\r\n\r\n  function changeScore(value) {\r\n    if (value === scoreValue) return;\r\n    $('#pavrCurrentScore .score_value').slideUp(function () {\r\n      $(this).remove();\r\n    });\r\n\r\n    let newValue = $('<div class=\"score_value\"></div>').text('Баллы: ' + value);\r\n    newValue.prependTo($('#pavrCurrentScore')).slideDown();\r\n    scoreValue = value;\r\n  }\r\n\r\n\r\n  function addImage(imgName) {\r\n    $('#right-answer-wrapper').hideMessage();\r\n    $('.pavr_btn_block_answer').addClass('visible').slideUp();\r\n    $('.pavr_text_block_game .pavr_image').remove();\r\n\r\n    // console.log(imgName);\r\n    let imgVariable = 'img' + imgName.replace(/[^0-9]+/g, '')\r\n    // console.log(imgVariable);\r\n\r\n    let img = $('<img />', {\r\n      class: 'pavr_image',\r\n      src: images[imgVariable],\r\n      alt: 'image'\r\n    });\r\n\r\n    img.appendTo($('.pavr_text_block_game .pavr_image-wrapper'));\r\n\r\n  }\r\n\r\n  function handleError() {\r\n    if (isFinished) return;\r\n\r\n    $('.pavr_btn_block_second').hideMessage();\r\n    $('.pavr_btn_block_first').hideMessage();\r\n    $('.pavr_text_block_ok').hideMessage();\r\n    $('.pavr_text_block_second').hideMessage();\r\n    $('.pavr_text_block_third').hideMessage();\r\n    $('.pavr_text_block_game').hideMessage();\r\n    $('#recognizedAnswerBlock').hideMessage();\r\n\r\n    $('#disconectError').showMessage();\r\n\r\n    setTimeout(() => {\r\n      hidePavel();\r\n    }, 3000);\r\n\r\n  }\r\n\r\n\r\n  let isFinished = false;\r\n\r\n  function handleFinish(code, type) {\r\n\r\n\r\n    function wordend(num, words) {\r\n      return words[((num = Math.abs(num % 100)) > 10 && num < 15 || (num %= 10) > 4 || num === 0) + (num !== 1)];\r\n    }\r\n\r\n    let textValue = `${scoreValue} ${wordend(scoreValue, ['балл', 'балла', 'баллов'])}`\r\n\r\n    $('#pavrFinalScore').text(textValue);\r\n    $('#promoCode').text(code);\r\n\r\n    let promoCodeTypeText;\r\n    switch (type) {\r\n      case 'FREE':\r\n        promoCodeTypeText = '100% скидку';\r\n        break;\r\n      case 'MEDIUM':\r\n        promoCodeTypeText = '30% скидку';\r\n        break;\r\n      case 'SMALL':\r\n        promoCodeTypeText = '10% скидку';\r\n        break;\r\n    }\r\n\r\n    $('#promoCodeTypeText').text(promoCodeTypeText);\r\n\r\n\r\n    $('.pavr_btn_block_second').hideMessage();\r\n    $('.pavr_btn_block_first').hideMessage();\r\n    $('.pavr_text_block_ok').hideMessage();\r\n    $('.pavr_text_block_second').hideMessage();\r\n    $('.pavr_text_block_third').hideMessage();\r\n    $('.pavr_text_block_game').hideMessage();\r\n    $('#recognizedAnswerBlock').hideMessage();\r\n\r\n\r\n    $('.pavr_text_block_finish').showMessage();\r\n    playTypingSound()\r\n    setTimeout(() => {\r\n      $('.pavr_btn_block_finish').showMessage();\r\n      stopTypingSound()\r\n    }, 5500)\r\n\r\n  }\r\n\r\n  function handleFinishBad() {\r\n    $('.pavr_btn_block_second').hideMessage();\r\n    $('.pavr_btn_block_first').hideMessage();\r\n    $('.pavr_text_block_ok').hideMessage();\r\n    $('.pavr_text_block_second').hideMessage();\r\n    $('.pavr_text_block_third').hideMessage();\r\n    $('.pavr_text_block_game').hideMessage();\r\n\r\n    $('.pavr_text_block_finishBad').showMessage();\r\n    playTypingSound();\r\n    setTimeout(() => {\r\n      stopTypingSound()\r\n      $('.pavr_btn_block_finishBad').showMessage();\r\n    }, 5500)\r\n\r\n\r\n  }\r\n\r\n  function handleAnswer(answer) {\r\n    // console.log('recognition_result: ' + answer);\r\n\r\n    $('#recognizedAnswer').text(answer);\r\n    $('.pavr_btn_block_answer').showMessage();\r\n  }\r\n\r\n  function showRightAnswer(answer) {\r\n    $('#right-answer-wrapper').showMessage();\r\n    $('#right-answer').text(answer);\r\n  }\r\n\r\n  function setCallerId(id) {\r\n    $.ajax({\r\n      url: 'https://demos05.voximplant.com/intercomconf/setCallerId?caller_id=' + id,\r\n      success: (res) => {\r\n        if (res.result !== undefined) {\r\n          // в сессии на серваке прописали callerid\r\n          // console.log('SUXESS')\r\n          connectSocket(id);\r\n\r\n        }\r\n      },\r\n\r\n      error: (jqXHR, textStatus, errorThrown) => {\r\n        console.error(res.errorThrown)\r\n      },\r\n\r\n      dataType: 'json',\r\n      type: 'GET',\r\n      xhrFields: {\r\n        withCredentials: true\r\n      }\r\n    })\r\n  }\r\n\r\n\r\n// Подрубаем сокет\r\n  function connectSocket(id) {\r\n    socket = io('https://demos05.voximplant.com', {path: '/intercomconf/socket.io'})\r\n    socket.on('connect', function () {\r\n      console.log('websocket connected for callerId:' + callerId);\r\n      checkCallerId(id);\r\n    });\r\n    socket.on('data', data => {\r\n      // console.log('websocket event')\r\n\r\n      try {\r\n        const result = JSON.parse(data.result);\r\n        console.log(result);\r\n        if (result.points) {\r\n          changeScore(result.points);\r\n        }\r\n\r\n\r\n        switch (result.action) {\r\n          case 'start':\r\n            startGame();\r\n            addImage(result.data);\r\n            break;\r\n\r\n          case 'recognition_result':\r\n            handleAnswer(result.data[0]);\r\n            break;\r\n\r\n          case 'next_word_success':\r\n          case 'next_word_fail':\r\n          case 'next_image':\r\n            addImage(result.data);\r\n            break;\r\n\r\n          case 'call_disconnected':\r\n            handleError();\r\n            break;\r\n\r\n          case 'points_updated':\r\n            showRightAnswer(result.right_answer);\r\n            break;\r\n\r\n          case 'finish':\r\n            isFinished = true;\r\n            showRightAnswer(result.right_answer);\r\n            setTimeout(function () {\r\n              if (result.code && result.code_type) {\r\n                handleFinish(result.code, result.code_type)\r\n              } else {\r\n                handleFinishBad();\r\n              }\r\n            }, 4000)\r\n\r\n            break;\r\n        }\r\n\r\n\r\n      } catch (err) {\r\n        console.error(err)\r\n        handleError();\r\n      }\r\n    })\r\n    socket.on('disconnect', function () {\r\n      // console.log('websocket disconnected')\r\n      handleError();\r\n    })\r\n  }\r\n});\r\n\r\n\r\n"]}